(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[316],{854:function(t,e,n){"use strict";var a=n(4137),i=n(184);e.Z=function(){return(0,i.jsx)(a.Z1,{visible:!0,height:"24",width:"24",color:"#d18f00",ariaLabel:"three-circles-loading",wrapperStyle:{},wrapperClass:""})}},2316:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Y}});var a=n(9439),i=n(5705),r=n(8007),o="AddContactForm_contactForm__1XbBB",A="AddContactForm_label__XseY1",c="AddContactForm_input__wYAJT",s="AddContactForm_addContactBtn__jIc-x",l="AddContactForm_astericks__4cq2i",d="AddContactForm_additional__2+ZZx",u=n(913),m=n(854),h=n(5264),f=n(184),g={name:"",number:""},x=r.Ry().shape({name:r.Z_().min(1).max(24).required(),number:r.Rx().required()}),C=function(t){var e=t.data,n=t.setShowAddContact,r=(0,u.Tn)(),C=(0,a.Z)(r,2),b=C[0],B=C[1].isLoading;return(0,f.jsx)(i.J9,{validationSchema:x,initialValues:g,onSubmit:function(t,a){var i=a.resetForm;(null===e||void 0===e?void 0:e.map((function(t){return t.name}))).includes(t.name)?h.Notify.failure("Contact with the same name has already exist!"):(b({name:t.name,number:t.number.replace(/(\d{2})(\d{3})(\d{3})(\d{3})/,"$1 $2 $3 $4")}),n(!1),h.Notify.success("Contact ".concat(t.name," was ADDED")),i())},children:(0,f.jsxs)(i.l0,{className:o,autoComplete:"true",children:[(0,f.jsxs)("label",{className:A,htmlFor:"name",children:[(0,f.jsx)("span",{className:l,children:"*"}),"Name:",(0,f.jsx)(i.gN,{type:"text",name:"name",className:c,required:!0}),(0,f.jsx)("span",{className:d,children:"(1 - 24) symbols"}),(0,f.jsx)(i.Bc,{name:"name",component:"span"})]}),(0,f.jsxs)("label",{className:A,htmlFor:"number",children:[(0,f.jsx)("span",{className:l,children:"*"}),"Phone number:",(0,f.jsx)(i.gN,{type:"tel",name:"number",className:c,required:!0,pattern:"\\[0-9]{0,3}-?[0-9]{3}-?[0-9]{3}-?[0-9]{4}"}),(0,f.jsx)("span",{className:d,children:"(9 - 14) numbers. e.g. 0631234567 or + 38 063 123 4567"})," ",(0,f.jsx)(i.Bc,{name:"number",component:"span"})," "]}),(0,f.jsx)("button",{className:s,type:"submit",title:"Button for submit add contact form",children:B?(0,f.jsx)(m.Z,{}):"Add contact"})]})})},b="Filter_filter__vxThR",B=n(4420),N=n(4808),p=function(){var t=(0,B.I0)();return(0,f.jsx)("label",{children:(0,f.jsx)("input",{className:b,name:"filter",placeholder:"Search...",type:"search",onChange:function(e){var n=e.target.value;t((0,N._L)(n.toLowerCase()))}})})},j="ListOfContacts_tableContainer__zt+q1",w="ListOfContacts_table__DvX+U",v="ListOfContacts_th__Hoj-6",I="ListOfContacts_tbody__kiDK4",S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsgAAALIBa5Ro4AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHISURBVEiJrda9ThtBEMDx35kAoqKI5CJNOoQ7pJC8A0JKlzaRUlLwACDLLnmXVLjkEXAS+QWQqChClAoBOgltipuDtX3OB76VVufbnfnP7N58uEgpWTSKoujiLXbxJp7wFd/iOU4p/VgISSnNTaxiiBIp5h2+x7zP1kv08aKR1QDfwSSUL/AJ21jJZFbQw2dchuw5en80gIPw6AZHWG/yakZnAwPcxik/NhoIz0v8wtbfwDNG1nCWXWVvykDc+QQP2HsG/DTgZ2HgvP4mtdAwBI6XgJ/G+0m89+sI7cbVjFEsA4/1TVwHswv7ucVl4Nn+YeztiwhIeNcGPGRex/4ARviJThvwLGgegu1Kle6twDP5q5jVjzbhoTOuDYziOKstwjtx7aOOqip28MrMKIpiDV/wPhz5kFIqZ+Uaxi5eBvsxTA+X9TzT7cvCtE60a2y2AC/i/qtEi8VhwE6WgQfrOHQHKc0XuztPVfE58L0ImEkdNPlmXa7rqvi/8C1VqS+x87g+I1Q3nFtVmm/8A3hd1ZxuQvdgar9BIW+Zl6q22DPfMrdV7fQiZCe55wsNZN9kaLrp33tq+nfZehmnbUzUIoCNo42/Lb8BFULDYjm4CiAAAAAASUVORK5CYII=",U={deleteBtn:"Contact_deleteBtn__L35yB",tr:"Contact_tr__3GkWa",deleteBtnCont:"Contact_deleteBtnCont__9NYe8",phone:"Contact_phone__PxJLc",name:"Contact_name__xbxVU"},y=n(2791),L="EditContactForm_td__Fxr2y",V="EditContactForm_input__+zEeD",F="EditContactForm_confirm__MCoF4",E=n(3881),Q=function(t){var e=t.setNewName,n=t.setNewNumber,a=t.onClick,i=E((function(t){return e(t.target.value)}),500,{leading:!1}),r=E((function(t){return n(t.target.value)}),500,{leading:!1});return(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:L,children:(0,f.jsx)("form",{children:(0,f.jsx)("input",{type:"text",name:"name",className:V,onChange:i,placeholder:"New name","aria-label":"Input for change the name of contact. If no change ,it will stay same before."})})}),(0,f.jsx)("td",{className:L,children:(0,f.jsx)("form",{children:(0,f.jsx)("input",{type:"tel",name:"number",className:V,onChange:r,placeholder:"New number","aria-label":"Input for change number of contact. if no change, it will stay same before."})})}),(0,f.jsx)("td",{className:L,children:(0,f.jsx)("button",{type:"button",className:F,onClick:a,title:"Confirm changes in contact button","aria-label":"Button for confirm changes in edit form. After confirm - choosen contact will be changed.",children:"OK"})})]})},R=function(t){var e=t.contact,n=e.id,i=e.name,r=e.number,o=(0,y.useState)(!1),A=(0,a.Z)(o,2),c=A[0],s=A[1],l=(0,y.useState)(i),d=(0,a.Z)(l,2),g=d[0],x=d[1],C=(0,y.useState)(r),b=(0,a.Z)(C,2),B=b[0],N=b[1],p=(0,u.Nt)(),j=(0,a.Z)(p,2),w=j[0],v=j[1].isLoading,I=(0,u.wY)().data,L=(0,u.Cq)(),V=(0,a.Z)(L,2),F=V[0],E=V[1].isLoading,R=I.some((function(t){return t.name===g&t.id!==n||t.number===B&t.id!==n}));return(0,f.jsxs)(f.Fragment,{children:[c&&(0,f.jsx)(Q,{setNewName:x,setNewNumber:N,onClick:function(){s(!1);!R&&(/[0-9]{0,3}-?[0-9]{3}-?[0-9]{3}-?[0-9]{4}/.test(B)||r)&&/^.{0,24}$/.test(g)?F({id:n,name:g,number:B.replace(/(\d{2})(\d{3})(\d{3})(\d{3})/,"$1 $2 $3 $4")}):h.Notify.failure("Error, incorrect input or same contact exists")}}),(0,f.jsxs)("tr",{className:U.tr,children:[(0,f.jsxs)("td",{className:U.name,children:[" ",(0,f.jsx)("button",{type:"button",className:U.deleteBtn,id:n,onClick:function(){return s(!c)},title:"Edit contact","aria-label":"Button for show or hide edit contact form",style:{marginLeft:"10px"},children:c?(0,f.jsx)("img",{src:S,alt:"Cancel icon for close edit form",width:16}):(0,f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABRQAAAUUBn0tXuAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMpSURBVFiFvddbiFdVFAbw3x6GGSjEMvPBCuyCVJASVBBdhoSsoKB5SO0lgjKI6EmiHoIIH6xeIoaoHrICH4okCIIiMojwJSoKDCMhRBpzclDLLo631cPZR1d/Z5j/hWnDhrPWt/f6vrP2PnuvIyIsdMcKbMcU9uENLIsI/wf5rfgd0dF/xuJSB53TSikjGJoVnL2diIhTHTFW4QtcUF1TGE32RKfa+/AB9s6ieL5+BOtSrMuxP+HbMYKL8Vf1/dgOPg9v9UHa2bfVeMuwJ/l3YLRiFyYBu4drKl7Ewyl7v2A3Ts+d8XPaQWwppSzCx7iq+r/F/RExU5f1vfrCNMvj9koUOFQH97vhRvF5evOftLu92U/vJuw3LIVXk/OBAciHNOvcxprEioRPJOwobmw/gK+Sc2gAAa8ngsO4LmHPJmwGdybMoQp8PwD55kTwN25J2MaEncL6jrmOVPC7PsmfTAQncG/CxnEy4U/MMr9/AXgwbeDTeChhYziWyJ+fI0Z/ArAWxxPBpoStTnEDr1X/SiwdWABuwp+J4IWEXYFfE/Z+/ULWVPsPLO5bAK7GdCJ4M2GdJ+BnGKnYc8k/1s7p5bJRSrkUn+Ki6voQj1VsET5x9gT8BuMRcbydnkO1D10LKKUsqeSXVddJPBMRp0opo1XM9RXbg3si4uh8cXvJwGZck+xh7KhX7jbcUf37sTYiDnYTdHj+IZRShrG+moc1Vc1qLNekuo1zBHdFxN5u4tJ9Btb477qPYWe1W/J/NIfQrm7JexGwLj1v1+yDfcl3UlOM7NRjm3cJavrHk+tp3JbswKMR8VGv5HSXgVVYkuxMPo2NEfFOP+R0twknZ/HtwiuaEuxYv+RdCYiIqVLKI9ik+b4nImLHIKSdAtq6r8w1KCK2YuuAXDn+mVpzSFO3wZWllJ6O5h7byvTcchrC1/X5fGxYCOZSyiW4u5qTEXEg4zdrSqX252JDv6XZHLfntZrSvL0Jt2S8RIRSykt4Koma1vt/wWxtueZ2bNd/F26IiJkzI6rKEbzsbHm1EP1LqUw/k6GOdI3hbfzg7LIM0ic1d8fj5ij5/wUGrylQ8gtGFgAAAABJRU5ErkJggg==",alt:"trash icon for delete button",width:16})}),E?(0,f.jsx)(m.Z,{}):"".concat(i)]}),(0,f.jsxs)("td",{className:U.phone,children:[" ",E?(0,f.jsx)(m.Z,{}):"".concat(r)]}),(0,f.jsxs)("td",{className:U.delete,children:[" ",(0,f.jsx)("div",{className:U.deleteBtnCont,children:(0,f.jsx)("button",{type:"button",className:U.deleteBtn,id:n,onClick:function(){return w(n)},title:"Delete contact","aria-label":"Button for delete contact from list of contact",children:v?(0,f.jsx)(m.Z,{}):(0,f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFlSURBVFiF7ZdNSgNBEIW/BBExutG9bvUKQVcqnkavYVzqcTQ749JLCPECiYYQHF1YzWhNdU/3pCcI+qAZUtW8ev3yOj+QhnXgGngBPtQaAwPZ0xoGxmC9rtoUMJYhfaN3ROlEa3CnbNqvoKte7wNDYI5trx6U0p8D98BeSNAwQJ5r3YUEuJPvhDY1xC6lE14kv4eJqPDrDKwca556my78gHZgtIKZD3UbLvly4Cbj0FvhvNANKwNTeW5lFOC4prqRIuCRqn2xNa8AK4Q+Adbnf2wtiwPLIEnARJ7bGQU4rolu/EoH/pYAC12gAN6Bzre69UUVU+sIV4FxYMuBAniT3maM4hr0hOtVuGsFQGlVjpvgOEz7fQLcdcmRA8dRuYIhATmDGAzgvwDfLyIrhCOqVy6mFgyhT4AVwmNjX0ytUQif5XmGX2QMNoBzxRmFQ2BGvj8jM+AgVf0p8AQslhi8EI4T35BPpJCzrWHnFTIAAAAASUVORK5CYII=",alt:"trash icon",width:16})})})]})]})]})},_=function(t){return t.filter.query},O=function(t){var e=t.data,n=t.isSuccess,a=(0,B.v9)(_),i=null===e||void 0===e?void 0:e.filter((function(t){return t.name.toLowerCase().includes(a)}));return(0,f.jsx)("div",{className:j,children:(0,f.jsxs)("table",{className:w,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:v,children:"Name"}),(0,f.jsx)("th",{className:v,children:"Phone"}),(0,f.jsx)("th",{className:v,children:"DLT"})]})}),(0,f.jsx)("tbody",{className:I,children:n&&(null===i||void 0===i?void 0:i.map((function(t){return(0,f.jsx)(R,{contact:t},t.id)})))})]})})},k="Contacts_addContact__xp-ga",Z="Contacts_searchShowBtn__s1agf",D="Contacts_buttons__KiE6Y",Y=function(){var t=(0,u.wY)(),e=t.data,n=t.isSuccess,i=t.isLoading,r=t.isError,o=t.refetch,A=(0,y.useState)(!1),c=(0,a.Z)(A,2),s=c[0],l=c[1],d=(0,y.useState)(!1),h=(0,a.Z)(d,2),g=h[0],x=h[1],b=localStorage.getItem("persist:auth"),B=JSON.parse(b),N=JSON.parse(B.token);return(0,y.useEffect)((function(){o()}),[o,N]),(0,f.jsxs)("div",{className:"container",children:[(0,f.jsxs)("div",{className:D,children:[(0,f.jsxs)("button",{type:"button",onClick:function(){return l(!s)},className:k,title:"Button for show add contact form","aria-label":"Button for show or hide add contact form",children:[" ",s?(0,f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACugAAAroB2wWlwgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABESURBVEiJ7dSxDYBADAPACyUDMBejssivQxuWIAXIltL6pBSu7jaZbbQ9QIAAoHDgxP5y940LFnro1vdfVFnTAAF+ADwN6iHVfqkWagAAAABJRU5ErkJggg==",alt:"Icon for hidden add contact form",width:20}):(0,f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACUSURBVFiF7dWxCYRAEIXhXxHOKow18CI7sIcLbMo2tAg7uA4O5OzCQNDgFjwDg13FDXwDDyaZ4WMnWHCvJzCY5K5LwgOACkhMKh+Ax18f+wCcUgIIIIAAAgT8frUXEFnOlkBh+jfQWc5PQAvwBWZP6W9/gsZyZlM161PWrku8n0AAAQQQQIAjgHGnv6wy4GOSui5ZADpvMl83pztLAAAAAElFTkSuQmCC",alt:"Icon for add button",width:20})]}),0===(null===e||void 0===e?void 0:e.length)?(0,f.jsx)("h2",{children:" No contacts in phonebook"}):(0,f.jsx)("h2",{children:"Contacts:"}),(0,f.jsx)("button",{type:"button",onClick:function(){return x(!g)},className:Z,title:"Button for open edit contact form","aria-label":"Button for show or hide input for search contact",children:g?(0,f.jsx)("img",{src:S,alt:"Cancel search icon",width:20}):(0,f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAF1QAABdUBACpHLgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAH2SURBVEiJrdU9aBRBFMDx35wHIRYRkSgSIgh+QEAFNZVNFMVSwUqwsLVMYWEpVmIvWAQFQUQQi2ApWEQbTRBJLEylIoKiCIoiuctY7ByZ7G1uc5oHj51l3rz/vI+ZCTFGVRJCmMAxHEk6iDnMJp2OMS5VLs4lxrhKMYyHiDU6hwPl9V3+Ss7P4nPmZBlvcQ9TeIWlbP4PriDUAjCOVrb4LoYrIhzEtRLoUk8ABrCQjH/hTG3oRV3epzU/sLsX4Hq2m8k65xnkREpjxNOqVHUMvyWjGTTWC0hrb2ab21eeb4QQ9mBraqqpGONybeutllvZ+HB5spGK25GXfTqHeUXdKOrSBTiUxi286dd7jLGN1+n3YBXgYxo3saNfQJLR9P1SBXiR/XeFWCchhBGMpN+FKkDndMKpfgE4nY3nu2ZTqz1RtFkL43206HZFWiI+YPNa52C/ohNiCnNoHc6beGTlDJyvu4smM+N3ONnD+Ziidh37Z2vZhs57EEJo4AHOZRl8jOeK8/Fb0QTjyWYgs/uKiRhjdQ1Ku7uI79nuemkexSfs7fkeZJBR3MGilcuso21M42iyvVpK7a5aQAm2BccVj9EYBipsbmSQRexcN+Afb9V5bNtoQMDtDDKLoQ0DJMgm3M8gl5tdbfUfEmNshxAu4KfiCpn5C2weDFtm9ILBAAAAAElFTkSuQmCC",alt:"Search icon button",width:20})})]}),s&&(0,f.jsx)(C,{data:e,setShowAddContact:l}),g&&(0,f.jsx)(p,{}),i&&(0,f.jsx)(m.Z,{}),!i&&!r&&0!==e.length&&(0,f.jsx)(O,{data:e,isSuccess:n})]})}},3881:function(t,e,n){var a="Expected a function",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,A=/^0o[0-7]+$/i,c=parseInt,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,d=s||l||Function("return this")(),u=Object.prototype.toString,m=Math.max,h=Math.min,f=function(){return d.Date.now()};function g(t,e,n){var i,r,o,A,c,s,l=0,d=!1,u=!1,g=!0;if("function"!=typeof t)throw new TypeError(a);function b(e){var n=i,a=r;return i=r=void 0,l=e,A=t.apply(a,n)}function B(t){return l=t,c=setTimeout(p,e),d?b(t):A}function N(t){var n=t-s;return void 0===s||n>=e||n<0||u&&t-l>=o}function p(){var t=f();if(N(t))return j(t);c=setTimeout(p,function(t){var n=e-(t-s);return u?h(n,o-(t-l)):n}(t))}function j(t){return c=void 0,g&&i?b(t):(i=r=void 0,A)}function w(){var t=f(),n=N(t);if(i=arguments,r=this,s=t,n){if(void 0===c)return B(s);if(u)return c=setTimeout(p,e),b(s)}return void 0===c&&(c=setTimeout(p,e)),A}return e=C(e)||0,x(n)&&(d=!!n.leading,o=(u="maxWait"in n)?m(C(n.maxWait)||0,e):o,g="trailing"in n?!!n.trailing:g),w.cancel=function(){void 0!==c&&clearTimeout(c),l=0,i=s=r=c=void 0},w.flush=function(){return void 0===c?A:j(f())},w}function x(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function C(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==u.call(t)}(t))return NaN;if(x(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=x(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=o.test(t);return n||A.test(t)?c(t.slice(2),n?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError(a);return x(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),g(t,e,{leading:i,maxWait:e,trailing:r})}}}]);
//# sourceMappingURL=316.6992098f.chunk.js.map